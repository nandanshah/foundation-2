drop keyspace if exists testn2;
drop keyspace if exists testfis;

CREATE KEYSPACE IF NOT EXISTS testn2 WITH replication={'class':'SimpleStrategy','replication_factor':1};
use testn2;
drop columnfamily IF EXISTS profile;
create table profile(id uuid, lastcrawlerruntime timestamp, socialauthtoken text, issocialcrawlrequired int, primary key(id) );
create index flagindex on profile(issocialcrawlrequired);
create index modifiedindex on profile(lastcrawlerruntime);

insert into profile (id, lastcrawlerruntime, socialauthtoken, issocialcrawlrequired) values (C979CA35-B58D-434B-B2D6-EA0316BCC9A1,1402857000000, '_guid_qTs9AocOF0kG8U-r-6AG6A==',1);
insert into profile (id, lastcrawlerruntime, socialauthtoken, issocialcrawlrequired) values (C979CA35-B58D-434B-B2D6-EA0316BCC9A8,1402857000000, '_guid_T_bwgHm81Ezab6uvtnUd4A==',1);


CREATE KEYSPACE IF NOT EXISTS testfis WITH replication={'class':'SimpleStrategy','replication_factor':1};
USE testfis;
CREATE TABLE IF NOT EXISTS sparkappprop (sparkappname text, properties map<text,text>, primary key (sparkappname));
INSERT INTO sparkappprop (sparkappname, properties) VALUES ('social-media-crawler', {'lastcrawlerruntime':'1672334234234'});

drop columnfamily IF EXISTS socialprofile;
drop columnfamily IF EXISTS friendsinfo;

create table if not exists friendsinfo( profileid uuid, friendid uuid, relation text, primary key(profileid,friendid));
create table if not exists socialprofile(id uuid, name text, username text, location text, gender text, country text, timezone text, primary key(id));