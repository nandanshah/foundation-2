drop keyspace IF EXISTS sampletrendrecotest1;
CREATE KEYSPACE IF NOT EXISTS sampletrendrecotest1 WITH replication = {'class':'SimpleStrategy', 'replication_factor':1};
use sampletrendrecotest1;
create table dailyeventsummaryperuseritem(periodid timeuuid ,tenantid uuid,regionid uuid,itemid uuid,profileid uuid,eventtypeaggregate  map<text,int>,dayscore double,date timestamp,eventrequired int,primary key (periodid,tenantid,regionid,itemid,profileid));
CREATE INDEX sampletrendrecodailyeventsummaryperuseritemeventrequired ON dailyeventsummaryperuseritem (eventrequired);
CREATE INDEX sampletrendrecodailyeventsummaryperuseritemdate ON dailyeventsummaryperuseritem (date);
insert into dailyeventsummaryperuseritem(periodid,tenantid,regionid,itemid,profileid,eventtypeaggregate,dayscore,date,eventrequired) values (366e8400-fef2-11e3-8080-808080808080,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC122,C979CA35-B58D-434B-B2D6-EA0316BCC9A5,{'watch':1},0.6,'2014-06-30',1); 
insert into dailyeventsummaryperuseritem(periodid,tenantid,regionid,itemid,profileid,eventtypeaggregate,dayscore,date,eventrequired) values (366e8400-fef2-11e3-8080-808080808080,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC122,C979CA35-B58D-434B-B2D6-EA0316BCC9A8,{'like':1},0.4,'2014-06-30',1); 
insert into dailyeventsummaryperuseritem(periodid,tenantid,regionid,itemid,profileid,eventtypeaggregate,dayscore,date,eventrequired) values (366e8400-fef2-11e3-8080-808080808080,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC122,C979CA35-B58D-434B-B2D6-EA0316BCC9A2,{'like':1,'watch':1},1,'2014-06-30',1); 
insert into dailyeventsummaryperuseritem(periodid,tenantid,regionid,itemid,profileid,eventtypeaggregate,dayscore,date,eventrequired) values (366e8400-fef2-11e3-8080-808080808080,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC122,C979CA35-B58D-434B-B2D6-EA0316BCC9A7,{'like':2,'watch':1},1.4,'2014-06-30',1); 
insert into dailyeventsummaryperuseritem(periodid,tenantid,regionid,itemid,profileid,eventtypeaggregate,dayscore,date,eventrequired) values (366e8400-fef2-11e3-8080-808080808080,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC122,C979CA35-B58D-434B-B2D6-EA0316BCC9A9,{'like':1},0.4,'2014-06-29',1); 
insert into dailyeventsummaryperuseritem(periodid,tenantid,regionid,itemid,profileid,eventtypeaggregate,dayscore,date,eventrequired) values (366e8400-fef2-11e3-8080-808080808081,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC9A1,C979CA35-B58D-434B-B2D6-EA0316BCC122,C979CA35-B58D-434B-B2D6-EA0316BCC9A2,{'like':1},0.4,'2014-06-29',1);
create table dailyeventsummary(periodid timeuuid ,tenantid uuid,regionid uuid,itemid uuid,eventtypeaggregate  map<text,int>,dayscore double,date timestamp,eventrequired int,primary key (periodid,tenantid,regionid,itemid));